{"version":3,"sources":["stores/api/shared/actions.js","shared/hooks/useSearch.js","pages/Feature/Milestones/MilestonesList/components/tables/AllMilestonesTable/index.js","pages/Feature/Milestones/MilestonesList/index.js"],"names":["getNeedsReviewCompliance","payload","resolve","reject","type","getComplianceDetail","getAllMilestones","getInvoices","markPaid","downloadAllMilestones","downloadInvoices","getApprovedCompliance","getDeniedCompliance","getPreGrants","getActiveGrants","getPendingGrants","getCompletedGrants","getVoteDetail","getVoteResult","getUserNotVoted","getProposalDetail","approveCompliance","denyCompliance","remindGA","resendGA","getMilestoneProposals","getMilestoneUsers","getMetrics","getDosFee","downloadDosFee","getPendingAddresses","getCurrentAddresses","getVAUsers","addAddress","voidAddress","confirmAddress","useSearch","timeSearch","useRef","useState","inputValue","setInputValue","handleSearch","action","e","value","target","trim","current","clearTimeout","setTimeout","AllMilestonesTable","outParams","onTotal","useTable","data","register","hasMore","appendData","setHasMore","setPage","setParams","page","params","resetData","dispatch","useDispatch","useEffect","fetchData","pageValue","paramsValue","page_id","limit","DEFAULT_API_RECORDS","results","isHasMore","res","totalGrant","totalPaid","totalUnpaid","prev","renderMilestoneIndex","row","milestones","findIndex","x","id","renderVoteResult","item","vote","votes","length","status","result_count","result","className","onLoadMore","dataLength","Header","HeaderCell","Body","map","ind","BodyRow","BodyCell","proposal_id","submitted_time","email","milestone_review_status","proposal_title","formatPrice","grant","deadline","formatDate","paid","paid_time","MilestonesList","proposals","setProposals","emails","setEmails","total","setTotal","isDownloading","setIsDownloading","toString","updateParams","key","paramsTemp","includes","temp","console","log","placeholder","onChange","val","isLoading","disabled","size","color","onClick","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","label","startDate","newValue","endDate","event","options"],"mappings":"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","file":"static/js/12.616f321e.chunk.js","sourcesContent":["export const getNeedsReviewCompliance = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_NEEDS_REVIEW_COMP',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getComplianceDetail = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_COMPLIANCE_DETAIL',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getAllMilestones = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_ALL_MILESTONES',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getInvoices = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_INVOICES',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const markPaid = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'MARK_PAID',\n  payload,\n  resolve, \n  reject,\n});\n\n\nexport const downloadAllMilestones = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'DOWNLOAD_ALL_MILESTONES',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const downloadInvoices = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'DOWNLOAD_INVOICES',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getApprovedCompliance = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_APPROVED_COMP',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getDeniedCompliance = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_DENIED_COMP',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getPreGrants = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_PRE_GRANTS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getActiveGrants = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_ACTIVE_GRANTS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getPendingGrants = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_PENDING_GRANTS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getCompletedGrants = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_COMPLETED_GRANTS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getVoteDetail = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_VOTE_DETAIL',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getVoteResult = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_VOTE_RESULT',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getUserNotVoted = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_USER_NOT_VOTED',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getProposalDetail = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_PROPOSAL_DETAIL',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const approveCompliance = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'APPROVE_COMPLIANCE',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const denyCompliance = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'DENY_COMPLIANCE',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const remindGA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'REMIND_GA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const resendGA = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'RESEND_GA',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getMilestoneProposals = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_MILESTONE_PROPOSALS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getMilestoneUsers = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_MILESTONE_USERS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getMetrics = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_METRICS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getDosFee = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_DOS_FEE',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const downloadDosFee = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'DOWNLOAD_DOS_FEE',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const getPendingAddresses = (resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_PENDING_ADDRESSES',\n  resolve, \n  reject,\n});\n\nexport const getCurrentAddresses = (resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_CURRENT_ADDRESSES',\n  resolve, \n  reject,\n});\n\nexport const getVAUsers = (resolve = () => {}, reject = () => {}) => ({\n  type: 'GET_VA_USERS',\n  resolve, \n  reject,\n});\n\nexport const addAddress = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'ADD_ADDRESS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const updateAddress = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'UPDATE_ADDRESS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const voidAddress = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'VOID_ADDRESS',\n  payload,\n  resolve, \n  reject,\n});\n\nexport const confirmAddress = (payload, resolve = () => {}, reject = () => {}) => ({\n  type: 'CONFIRM_ADDRESS',\n  payload,\n  resolve, \n  reject,\n});\n","import { useRef, useState } from \"react\";\n\nconst DURATION = 600;\n\nexport const useSearch = () => {\n  const timeSearch = useRef(null);\n  const [inputValue, setInputValue] = useState();\n  \n  const handleSearch = (action) => {\n    return (e) => {\n      const value = e.target.value?.trim() || null;\n      setInputValue(value);\n      if(timeSearch?.current) {\n        clearTimeout(timeSearch?.current);\n      }\n      timeSearch.current = setTimeout(() => {\n        action(value);\n      }, DURATION);\n    }\n  }\n\n  return { handleSearch, inputValue };\n}","import { Table, useTable } from '@shared/partials';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getAllMilestones } from '@stores/api/shared/actions';\nimport { formatDate, formatPrice } from '@shared/core/utils';\nimport './style.scss';\nimport { DEFAULT_API_RECORDS } from '@shared/core/constant';\n\nexport const AllMilestonesTable = ({ outParams, onTotal }) => {\n  const {\n    data,\n    register,\n    hasMore,\n    appendData,\n    setHasMore,\n    setPage,\n    setParams,\n    page,\n    params,\n    resetData,\n  } = useTable();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData =(pageValue = page, paramsValue = params) => {\n    dispatch(\n      getAllMilestones({ ...paramsValue, page_id: pageValue, limit: DEFAULT_API_RECORDS }, (results, isHasMore, res) => {\n        setHasMore(isHasMore);\n        appendData(results);\n        onTotal({\n          totalGrant: res.totalGrant,\n          totalPaid: res.totalPaid,\n          totalUnpaid: res.totalUnpaid,\n        })\n        setPage(prev => prev + 1);\n      })\n    );\n  }\n\n  useEffect(() => {\n    if (outParams) {\n      setParams(outParams);\n      resetData();\n      fetchData(1, outParams);\n    }\n  }, [outParams]);\n\n  const renderMilestoneIndex = (row) => {\n    const index = row.milestones.findIndex(x => x.id === row.id);\n    return index + 1;\n  }\n\n  const renderVoteResult = (item) => {\n    const vote = item.votes[item.votes.length - 1];\n    if (vote && vote.status === \"completed\") {\n      if (vote.result_count && vote.result === \"success\")\n        return (\n          <label className=\"text-purple d-block\">Pass</label>\n        );\n      else if (vote.result === \"no-quorum\")\n        return (\n          <label className=\"text-red d-block\">No Quorum</label>\n        );\n      return <label className=\"text-red d-block\">Fail</label>;\n    }\n    return null;\n  }\n\n  return (\n    <Table\n      {...register}\n      className=\"all-milestones-table h-full\"\n      onLoadMore={fetchData}\n      hasMore={hasMore}\n      dataLength={data.length}\n    >\n      <Table.Header>\n        <Table.HeaderCell>\n          <p>Milestone number</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Status</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>OP email</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Prop #</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Proposal Title</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Milestone</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Euro value</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Due date</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Submitted date</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Review status</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Vote result</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Paid?</p>\n        </Table.HeaderCell>\n        <Table.HeaderCell>\n          <p>Paid Date</p>\n        </Table.HeaderCell>\n      </Table.Header>\n      <Table.Body className=\"padding-tracker\">\n        {data.map((row, ind) => (\n          <Table.BodyRow key={ind}>\n            <Table.BodyCell>\n              {row.proposal_id}-{renderMilestoneIndex(row)}\n            </Table.BodyCell>\n            <Table.BodyCell>\n              {row.submitted_time ? \"Submitted\" : \"Not submitted\"}\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{row.email}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{row.proposal_id}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              {row.milestone_review_status === \"denied\" && (\n                <p>re-submission {renderMilestoneIndex(row)}</p>\n              )}\n              <p>{row.proposal_title}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p className=\"pl-3\">\n                {renderMilestoneIndex(row)}/{row.milestones.length}\n              </p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n             {formatPrice(row.grant)}\n            </Table.BodyCell>\n            <Table.BodyCell>\n              {row.deadline\n                ? formatDate(row.deadline)\n                : \"\"}\n            </Table.BodyCell>\n            <Table.BodyCell>\n              {row.submitted_time\n                ? formatDate(row.submitted_time)\n                : \"\"}\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>\n                {row.milestone_review_status === \"approved\" && \"Approved\"}\n                {row.milestone_review_status === \"pending\" && \"Unassigned\"}\n                {row.milestone_review_status === \"active\" && \"Assigned\"}\n                {row.milestone_review_status === \"denied\" && \"Denied\"}\n                {row.milestone_review_status === \"Not Submitted\" &&\n                  \"Not Submitted\"}\n              </p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{renderVoteResult(row)}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>{row.paid ? \"Yes\" : \"No\"}</p>\n            </Table.BodyCell>\n            <Table.BodyCell>\n              <p>\n                {row.paid_time\n                  ? formatDate(row.paid_time)\n                  : \"\"\n                }\n              </p>\n            </Table.BodyCell>\n          </Table.BodyRow>\n        ))}\n      </Table.Body>\n    </Table>\n  )\n}\n","import { Card, CardHeader, CardBody, SwitchButton, Button, DatePicker, AutoComplete } from '@shared/partials';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { getMilestoneProposals, getMilestoneUsers, downloadAllMilestones } from '@stores/api/shared/actions';\nimport { AllMilestonesTable } from './components/tables/AllMilestonesTable';\nimport { formatDate, formatPrice } from '@shared/core/utils';\nimport { useSearch } from '@shared/hooks/useSearch';\n\nconst MilestonesList = () => {\n  const [proposals, setProposals] = useState([]);\n  const [emails, setEmails] = useState([]);\n  const [params, setParams] = useState();\n  const dispatch = useDispatch();\n  const [total, setTotal] = useState();\n  const [isDownloading, setIsDownloading] = useState();\n  const { inputValue, handleSearch } = useSearch();\n\n  useEffect(() => {\n    dispatch(\n      getMilestoneProposals(\n        {},\n        (res) => {\n          setProposals(res.map(x => x?.toString()));\n        },\n        () => {},\n      )\n    )\n    dispatch(\n      getMilestoneUsers(\n        {},\n        (res) => {\n          setEmails(res.map(x => x?.toString()));\n        },\n        () => {},\n      )\n    )\n  }, []);\n\n  const updateParams = (key, value) => {\n    let paramsTemp = params;\n    if (!paramsTemp) paramsTemp = {};\n    if (key === \"notSubmitted\") {\n      if (value) {\n        paramsTemp[key] = 1;\n      } else {\n        delete paramsTemp[key];\n      }\n    } else if ([\"hidePaid\", \"hideCompletedGrants\"].includes(key)) {\n      if (value) {\n        paramsTemp[key] = 1;\n      } else {\n        delete paramsTemp[key];\n      }\n    } else if ([\"startDate\", \"endDate\"].includes(key)) {\n      if (value) {\n        const temp = formatDate(value, 'yyyy-MM-dd');\n        console.log(temp);\n        paramsTemp[key] = temp;\n      } else {\n        delete paramsTemp[key];\n      }\n    } else {\n      if (value) {\n        paramsTemp[key] = value;\n      } else {\n        delete paramsTemp[key];\n      }\n    }\n    setParams({ ...paramsTemp });\n  }\n\n  const download = () => {\n    setIsDownloading(true);\n    dispatch(\n      downloadAllMilestones(\n        params,\n        (res) => {\n          const url = window.URL.createObjectURL(new Blob([res]));\n          const link = document.createElement(\"a\");\n          link.href = url;\n          link.setAttribute(\"download\", \"milestones.csv\");\n          document.body.appendChild(link);\n          link.click();\n          setIsDownloading(false);\n        },\n        () => {},\n      )\n    )\n  }\n\n  const onSearch = (val) => {\n    updateParams('search', val);\n  }\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <Card className=\"flex-1 min-h-0\">\n        <CardHeader>\n          <div className=\"w-full flex justify-between\">\n            <h2>All Milestones</h2>\n            <div className=\"flex gap-4\">\n              <input\n                className=\"text-xs\"\n                type=\"text\"\n                placeholder=\"Search...\"\n                value={inputValue}\n                onChange={handleSearch(onSearch)}\n              />\n              <Button isLoading={isDownloading} disabled={isDownloading} size=\"xs\" color=\"primary\" onClick={download}>Download</Button>\n            </div>\n          </div>\n        </CardHeader>\n        <CardBody>\n          <div className=\"flex flex-col h-full\">\n            <div className=\"flex justify-between\">\n              <div className=\"w-1/3\">\n                <table className=\"total-table text-sm\">\n                  <tbody>\n                    <tr>\n                      <td className=\"pr-2\">Total value of shown:</td>\n                      <td>\n                        <span className=\"font-medium\">{formatPrice(total?.totalGrant)}</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td className=\"pr-2\">Total paid amount of shown:</td>\n                      <td>\n                        <span className=\"font-medium\">{formatPrice(total?.totalPaid)}</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td className=\"pr-2\">Total unpaid amount of shown:</td>\n                      <td>\n                        <span className=\"font-medium\">{formatPrice(total?.totalUnpaid)}</span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"w-2/3 flex flex-col gap-4\">\n                <div className=\"flex gap-4\">\n                  <DatePicker\n                    className=\"flex-1\"\n                    label=\"Start date\"\n                    value={params?.startDate ? params.startDate : null}\n                    onChange={(newValue) => {\n                      updateParams('startDate', newValue);\n                    }}\n                  />\n                  <DatePicker\n                    className=\"flex-1\"\n                    label=\"End date\"\n                    value={params?.endDate ? params.endDate : null}\n                    onChange={(newValue) => {\n                      updateParams('endDate', newValue);\n                    }}\n                  />\n                  <AutoComplete\n                    className=\"flex-1\"\n                    onChange={(event, newValue) => {\n                      updateParams(\"proposalId\", newValue);\n                    }}\n                    label=\"Filter by Grant\"\n                    options={proposals}\n                  />\n                  <AutoComplete\n                    className=\"flex-1\"\n                    label=\"Filter by Email\"\n                    onChange={(event, newValue) => {\n                      updateParams('email', newValue);\n                    }}\n                    options={emails}\n                  />\n                </div>\n                <div className=\"flex gap-4\">\n                  <div className=\"flex gap-2\">\n                    <SwitchButton\n                      onChange={(e) =>\n                        updateParams(\"hidePaid\", e)\n                      }\n                    />\n                    <span className=\"text-xs pt-0.5\">Hide paid</span>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <SwitchButton\n                      onChange={(e) =>\n                        updateParams(\"hideCompletedGrants\", e)\n                      }\n                    />\n                    <span className=\"text-xs pt-0.5\">Hide milestones for completed grants</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-10 flex-1 min-h-0 overflow-x-scroll\">\n              <AllMilestonesTable outParams={params} onTotal={setTotal} />\n            </div>\n          </div>\n        </CardBody>\n      </Card>\n    </div>\n  )\n}\n\nexport default MilestonesList"],"sourceRoot":""}