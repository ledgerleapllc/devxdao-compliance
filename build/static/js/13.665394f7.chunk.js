(this["webpackJsonpdxd-compliance"]=this["webpackJsonpdxd-compliance"]||[]).push([[13],{299:function(e,n,t){"use strict";t.d(n,"t",(function(){return o})),t.d(n,"l",(function(){return c})),t.d(n,"i",(function(){return i})),t.d(n,"p",(function(){return r})),t.d(n,"C",(function(){return l})),t.d(n,"e",(function(){return a})),t.d(n,"g",(function(){return u})),t.d(n,"j",(function(){return d})),t.d(n,"n",(function(){return s})),t.d(n,"w",(function(){return f})),t.d(n,"h",(function(){return v})),t.d(n,"v",(function(){return p})),t.d(n,"k",(function(){return h})),t.d(n,"A",(function(){return j})),t.d(n,"B",(function(){return b})),t.d(n,"y",(function(){return g})),t.d(n,"x",(function(){return O})),t.d(n,"b",(function(){return m})),t.d(n,"d",(function(){return y})),t.d(n,"D",(function(){return E})),t.d(n,"E",(function(){return x})),t.d(n,"r",(function(){return _})),t.d(n,"s",(function(){return N})),t.d(n,"q",(function(){return S})),t.d(n,"o",(function(){return T})),t.d(n,"f",(function(){return D})),t.d(n,"u",(function(){return A})),t.d(n,"m",(function(){return C})),t.d(n,"z",(function(){return G})),t.d(n,"a",(function(){return I})),t.d(n,"F",(function(){return R})),t.d(n,"c",(function(){return w}));var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_NEEDS_REVIEW_COMP",payload:e,resolve:n,reject:t}},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_COMPLIANCE_DETAIL",payload:e,resolve:n,reject:t}},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_ALL_MILESTONES",payload:e,resolve:n,reject:t}},r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_INVOICES",payload:e,resolve:n,reject:t}},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"MARK_PAID",payload:e,resolve:n,reject:t}},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_ALL_MILESTONES",payload:e,resolve:n,reject:t}},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_INVOICES",payload:e,resolve:n,reject:t}},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_APPROVED_COMP",payload:e,resolve:n,reject:t}},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_DENIED_COMP",payload:e,resolve:n,reject:t}},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PRE_GRANTS",payload:e,resolve:n,reject:t}},v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_ACTIVE_GRANTS",payload:e,resolve:n,reject:t}},p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PENDING_GRANTS",payload:e,resolve:n,reject:t}},h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_COMPLETED_GRANTS",payload:e,resolve:n,reject:t}},j=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_VOTE_DETAIL",payload:e,resolve:n,reject:t}},b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_VOTE_RESULT",payload:e,resolve:n,reject:t}},g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_USER_NOT_VOTED",payload:e,resolve:n,reject:t}},O=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PROPOSAL_DETAIL",payload:e,resolve:n,reject:t}},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"APPROVE_COMPLIANCE",payload:e,resolve:n,reject:t}},y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DENY_COMPLIANCE",payload:e,resolve:n,reject:t}},E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"REMIND_GA",payload:e,resolve:n,reject:t}},x=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"RESEND_GA",payload:e,resolve:n,reject:t}},_=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_MILESTONE_PROPOSALS",payload:e,resolve:n,reject:t}},N=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_MILESTONE_USERS",payload:e,resolve:n,reject:t}},S=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_METRICS",payload:e,resolve:n,reject:t}},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_DOS_FEE",payload:e,resolve:n,reject:t}},D=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_DOS_FEE",payload:e,resolve:n,reject:t}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_PENDING_ADDRESSES",resolve:e,reject:n}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_CURRENT_ADDRESSES",resolve:e,reject:n}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_VA_USERS",resolve:e,reject:n}},I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"ADD_ADDRESS",payload:e,resolve:n,reject:t}},R=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"VOID_ADDRESS",payload:e,resolve:n,reject:t}},w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"CONFIRM_ADDRESS",payload:e,resolve:n,reject:t}}},334:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var o=t(0),c=function(){Object(o.useEffect)((function(){return document.body.classList.add("scroll-window"),function(){document.body.classList.remove("scroll-window")}}),[])}},485:function(e,n,t){"use strict";t.r(n);var o=t(12),c=t(111),i=t(334),r=t(300),l=t(0),a=t(299),u=t(80),d=t(26),s=(t(486),t(144)),f=t(1);n.default=function(){var e,n,t,v,p,h=Object(u.b)(),j=Object(l.useContext)(s.a).setLoading,b=Object(d.i)().id,g=Object(l.useState)(),O=Object(o.a)(g,2),m=O[0],y=O[1],E=Object(l.useState)(),x=Object(o.a)(E,2),_=x[0],N=x[1],S=Object(l.useState)(),T=Object(o.a)(S,2),D=T[0],A=T[1],C=Object(l.useState)(),G=Object(o.a)(C,2),I=G[0],R=G[1],w=Object(d.g)(),L=Object(l.useState)(),P=Object(o.a)(L,2),k=P[0],M=P[1],V=Object(l.useState)(),F=Object(o.a)(V,2),U=F[0],W=F[1],z=Object(u.c)((function(e){var n;return null===(n=e.authReducer)||void 0===n?void 0:n.user}));Object(i.a)(),Object(l.useEffect)((function(){j(!0),h(Object(a.l)({id:b},(function(e){N(e),["approved","denied"].includes(null===e||void 0===e?void 0:e.onboarding.compliance_status)?R(2):R(0),h(Object(a.x)({id:b},(function(e){y(e),j(!1)}),(function(){j(!1)})))}),(function(){j(!1)})))}),[]);return Object(f.jsxs)("div",{className:"flex flex-col gap-4",children:[Object(f.jsx)(c.c,{}),Object(f.jsxs)(c.e,{className:"!py-9",children:[Object(f.jsx)(c.g,{children:Object(f.jsxs)("div",{className:"flex justify-between",children:[[0,1].includes(I)&&Object(f.jsx)("h2",{children:"Compliance Review"}),[2].includes(I)&&Object(f.jsx)("h2",{children:"Compliance Summary"})]})}),Object(f.jsxs)(c.f,{children:[!!z.compliance&&0===I&&Object(f.jsxs)("div",{className:"flex gap-4 flex-col",children:[Object(f.jsxs)("p",{children:["Please review the attached PDF for grant ",null===m||void 0===m?void 0:m.title,". This grant needs your decision on compliance before it can move to a formal vote. Please click a button below when your are ready."]}),Object(f.jsx)("p",{children:"In additon to the attached PDF, the link to the proposal is available publically here"}),Object(f.jsx)("ul",{children:null===m||void 0===m?void 0:m.files.map((function(e){return Object(f.jsxs)("li",{children:["- ",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat("https://dxd-backend.stage.ledgerleap.com").concat(e.url),className:"underline text-purple",children:e.name})]})}))}),Object(f.jsxs)("div",{className:"pt-12 flex gap-4 w-1/2",children:[Object(f.jsx)(c.d,{className:"mx-auto block !w-3/5 mb-2.5 px-6",color:"primary",isLoading:k,disabled:k,onClick:function(){M(!0),h(Object(a.b)({proposalId:b},(function(e){N(e),R(2),M(!1)}),(function(){})))},children:"I approve this grant"}),Object(f.jsx)(c.d,{className:"long-text mx-auto block !w-3/5 mb-2.5 px-6",color:"primary-outline",onClick:function(){return R(1)},children:"I need to deny this grant and will provide a reason"})]})]}),!!z.compliance&&1===I&&Object(f.jsxs)("div",{className:"flex gap-4 flex-col",children:[Object(f.jsx)("p",{children:"Compliance admin, please record the exact reason for denying this grant. Remember, this action is final and will stop this grant from moving ahead. Your reason will be shared with the OP."}),Object(f.jsx)("textarea",{value:D,onChange:function(e){return A(e.target.value)},rows:"5",className:"border border-gray3 w-full my-1.5 p-3",placeholder:"Enter the reason you are denying this grant."}),Object(f.jsxs)("div",{className:"pt-12 flex gap-4 w-1/2",children:[Object(f.jsx)(c.d,{className:"long-text mx-auto block !w-3/5 mb-2.5 px-6",color:"primary-outline",onClick:function(){return R(0)},children:"Cancel"}),Object(f.jsx)(c.d,{className:"mx-auto block !w-3/5 mb-2.5 px-6",color:"primary",isLoading:U,onClick:function(){W(!0),h(Object(a.d)({proposalId:b,reason:D},(function(e){N(e),R(2),W(!1)}),(function(){})))},disabled:U,children:"Deny grant"})]})]}),!z.compliance&&[0,1].includes(I)&&Object(f.jsx)("div",{className:"flex gap-4 flex-col",children:"Waiting for review"}),2===I&&Object(f.jsxs)("div",{className:"flex gap-4 flex-col",children:[Object(f.jsx)("h4",{className:"font-semibold",children:"This compliance check has been completed!"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"pr-4",children:"Grant number:"}),Object(f.jsx)("span",{className:"font-medium",children:null===_||void 0===_||null===(e=_.proposal)||void 0===e?void 0:e.id})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"pr-4",children:"Compliance status:"}),Object(f.jsx)("span",{className:"font-medium capitalize",children:null===_||void 0===_||null===(n=_.onboarding)||void 0===n?void 0:n.compliance_status})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"pr-4",children:"Compliance admin:"}),Object(f.jsx)("span",{className:"font-medium",children:null===_||void 0===_?void 0:_.compliance_admin})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"pr-4",children:"Timestamp:"}),Object(f.jsx)("span",{className:"font-medium",children:Object(r.b)(null===_||void 0===_||null===(t=_.onboarding)||void 0===t?void 0:t.compliance_reviewed_at,"dd/MM/yyyy h:mm a")})]}),"denied"===(null===_||void 0===_||null===(v=_.onboarding)||void 0===v?void 0:v.compliance_status)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"pr-4",children:"Denial reason:"}),Object(f.jsx)("span",{className:"font-medium",children:null===_||void 0===_||null===(p=_.onboarding)||void 0===p?void 0:p.deny_reason})]}),Object(f.jsx)("div",{className:"pt-12 flex gap-4 w-1/2",children:Object(f.jsx)(c.d,{className:"long-text block !w-3/5 mb-2.5 px-6",color:"primary-outline",onClick:function(){return w.push("/app/dashboard")},children:"Back to dashboard"})})]})]})]})]})}},486:function(e,n,t){}}]);
//# sourceMappingURL=13.665394f7.chunk.js.map