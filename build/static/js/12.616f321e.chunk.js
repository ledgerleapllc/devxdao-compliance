(this["webpackJsonpdxd-compliance"]=this["webpackJsonpdxd-compliance"]||[]).push([[12],{299:function(e,t,n){"use strict";n.d(t,"t",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"p",(function(){return i})),n.d(t,"C",(function(){return r})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"w",(function(){return j})),n.d(t,"h",(function(){return f})),n.d(t,"v",(function(){return v})),n.d(t,"k",(function(){return h})),n.d(t,"A",(function(){return b})),n.d(t,"B",(function(){return O})),n.d(t,"y",(function(){return p})),n.d(t,"x",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"D",(function(){return y})),n.d(t,"E",(function(){return E})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return N})),n.d(t,"q",(function(){return S})),n.d(t,"o",(function(){return C})),n.d(t,"f",(function(){return D})),n.d(t,"u",(function(){return T})),n.d(t,"m",(function(){return A})),n.d(t,"z",(function(){return G})),n.d(t,"a",(function(){return P})),n.d(t,"F",(function(){return R})),n.d(t,"c",(function(){return I}));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_NEEDS_REVIEW_COMP",payload:e,resolve:t,reject:n}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_COMPLIANCE_DETAIL",payload:e,resolve:t,reject:n}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_ALL_MILESTONES",payload:e,resolve:t,reject:n}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_INVOICES",payload:e,resolve:t,reject:n}},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"MARK_PAID",payload:e,resolve:t,reject:n}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_ALL_MILESTONES",payload:e,resolve:t,reject:n}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_INVOICES",payload:e,resolve:t,reject:n}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_APPROVED_COMP",payload:e,resolve:t,reject:n}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_DENIED_COMP",payload:e,resolve:t,reject:n}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PRE_GRANTS",payload:e,resolve:t,reject:n}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_ACTIVE_GRANTS",payload:e,resolve:t,reject:n}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PENDING_GRANTS",payload:e,resolve:t,reject:n}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_COMPLETED_GRANTS",payload:e,resolve:t,reject:n}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_VOTE_DETAIL",payload:e,resolve:t,reject:n}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_VOTE_RESULT",payload:e,resolve:t,reject:n}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_USER_NOT_VOTED",payload:e,resolve:t,reject:n}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_PROPOSAL_DETAIL",payload:e,resolve:t,reject:n}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"APPROVE_COMPLIANCE",payload:e,resolve:t,reject:n}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DENY_COMPLIANCE",payload:e,resolve:t,reject:n}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"REMIND_GA",payload:e,resolve:t,reject:n}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"RESEND_GA",payload:e,resolve:t,reject:n}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_MILESTONE_PROPOSALS",payload:e,resolve:t,reject:n}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_MILESTONE_USERS",payload:e,resolve:t,reject:n}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_METRICS",payload:e,resolve:t,reject:n}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"GET_DOS_FEE",payload:e,resolve:t,reject:n}},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"DOWNLOAD_DOS_FEE",payload:e,resolve:t,reject:n}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_PENDING_ADDRESSES",resolve:e,reject:t}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_CURRENT_ADDRESSES",resolve:e,reject:t}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{type:"GET_VA_USERS",resolve:e,reject:t}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"ADD_ADDRESS",payload:e,resolve:t,reject:n}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"VOID_ADDRESS",payload:e,resolve:t,reject:n}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"CONFIRM_ADDRESS",payload:e,resolve:t,reject:n}}},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(12),o=n(0),l=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(),n=Object(c.a)(t,2),l=n[0],i=n[1];return{handleSearch:function(t){return function(n){var c,o=(null===(c=n.target.value)||void 0===c?void 0:c.trim())||null;i(o),(null===e||void 0===e?void 0:e.current)&&clearTimeout(null===e||void 0===e?void 0:e.current),e.current=setTimeout((function(){t(o)}),600)}},inputValue:l}}},490:function(e,t,n){},503:function(e,t,n){"use strict";n.r(t);var c=n(17),o=n(12),l=n(111),i=n(0),r=n(80),d=n(299),a=n(300),s=(n(490),n(301)),u=n(1),j=function(e){var t=e.outParams,n=e.onTotal,o=Object(l.r)(),j=o.data,f=o.register,v=o.hasMore,h=o.appendData,b=o.setHasMore,O=o.setPage,p=o.setParams,x=o.page,m=o.params,g=o.resetData,y=Object(r.b)();Object(i.useEffect)((function(){E()}),[]);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;y(Object(d.i)(Object(c.a)(Object(c.a)({},t),{},{page_id:e,limit:s.b}),(function(e,t,c){b(t),h(e),n({totalGrant:c.totalGrant,totalPaid:c.totalPaid,totalUnpaid:c.totalUnpaid}),O((function(e){return e+1}))})))};Object(i.useEffect)((function(){t&&(p(t),g(),E(1,t))}),[t]);var _=function(e){return e.milestones.findIndex((function(t){return t.id===e.id}))+1},N=function(e){var t=e.votes[e.votes.length-1];return t&&"completed"===t.status?t.result_count&&"success"===t.result?Object(u.jsx)("label",{className:"text-purple d-block",children:"Pass"}):"no-quorum"===t.result?Object(u.jsx)("label",{className:"text-red d-block",children:"No Quorum"}):Object(u.jsx)("label",{className:"text-red d-block",children:"Fail"}):null};return Object(u.jsxs)(l.o,Object(c.a)(Object(c.a)({},f),{},{className:"all-milestones-table h-full",onLoadMore:E,hasMore:v,dataLength:j.length,children:[Object(u.jsxs)(l.o.Header,{children:[Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Milestone number"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Status"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"OP email"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Prop #"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Proposal Title"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Milestone"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Euro value"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Due date"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Submitted date"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Review status"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Vote result"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Paid?"})}),Object(u.jsx)(l.o.HeaderCell,{children:Object(u.jsx)("p",{children:"Paid Date"})})]}),Object(u.jsx)(l.o.Body,{className:"padding-tracker",children:j.map((function(e,t){return Object(u.jsxs)(l.o.BodyRow,{children:[Object(u.jsxs)(l.o.BodyCell,{children:[e.proposal_id,"-",_(e)]}),Object(u.jsx)(l.o.BodyCell,{children:e.submitted_time?"Submitted":"Not submitted"}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsx)("p",{children:e.email})}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsx)("p",{children:e.proposal_id})}),Object(u.jsxs)(l.o.BodyCell,{children:["denied"===e.milestone_review_status&&Object(u.jsxs)("p",{children:["re-submission ",_(e)]}),Object(u.jsx)("p",{children:e.proposal_title})]}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsxs)("p",{className:"pl-3",children:[_(e),"/",e.milestones.length]})}),Object(u.jsx)(l.o.BodyCell,{children:Object(a.d)(e.grant)}),Object(u.jsx)(l.o.BodyCell,{children:e.deadline?Object(a.b)(e.deadline):""}),Object(u.jsx)(l.o.BodyCell,{children:e.submitted_time?Object(a.b)(e.submitted_time):""}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsxs)("p",{children:["approved"===e.milestone_review_status&&"Approved","pending"===e.milestone_review_status&&"Unassigned","active"===e.milestone_review_status&&"Assigned","denied"===e.milestone_review_status&&"Denied","Not Submitted"===e.milestone_review_status&&"Not Submitted"]})}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsx)("p",{children:N(e)})}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsx)("p",{children:e.paid?"Yes":"No"})}),Object(u.jsx)(l.o.BodyCell,{children:Object(u.jsx)("p",{children:e.paid_time?Object(a.b)(e.paid_time):""})})]},t)}))})]}))},f=n(302);t.default=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],v=Object(i.useState)([]),h=Object(o.a)(v,2),b=h[0],O=h[1],p=Object(i.useState)(),x=Object(o.a)(p,2),m=x[0],g=x[1],y=Object(r.b)(),E=Object(i.useState)(),_=Object(o.a)(E,2),N=_[0],S=_[1],C=Object(i.useState)(),D=Object(o.a)(C,2),T=D[0],A=D[1],G=Object(f.a)(),P=G.inputValue,R=G.handleSearch;Object(i.useEffect)((function(){y(Object(d.r)({},(function(e){s(e.map((function(e){return null===e||void 0===e?void 0:e.toString()})))}),(function(){}))),y(Object(d.s)({},(function(e){O(e.map((function(e){return null===e||void 0===e?void 0:e.toString()})))}),(function(){})))}),[]);var I=function(e,t){var n=m;if(n||(n={}),"notSubmitted"===e)t?n[e]=1:delete n[e];else if(["hidePaid","hideCompletedGrants"].includes(e))t?n[e]=1:delete n[e];else if(["startDate","endDate"].includes(e))if(t){var o=Object(a.b)(t,"yyyy-MM-dd");console.log(o),n[e]=o}else delete n[e];else t?n[e]=t:delete n[e];g(Object(c.a)({},n))};return Object(u.jsx)("div",{className:"flex flex-col h-full",children:Object(u.jsxs)(l.e,{className:"flex-1 min-h-0",children:[Object(u.jsx)(l.g,{children:Object(u.jsxs)("div",{className:"w-full flex justify-between",children:[Object(u.jsx)("h2",{children:"All Milestones"}),Object(u.jsxs)("div",{className:"flex gap-4",children:[Object(u.jsx)("input",{className:"text-xs",type:"text",placeholder:"Search...",value:P,onChange:R((function(e){I("search",e)}))}),Object(u.jsx)(l.d,{isLoading:T,disabled:T,size:"xs",color:"primary",onClick:function(){A(!0),y(Object(d.e)(m,(function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","milestones.csv"),document.body.appendChild(n),n.click(),A(!1)}),(function(){})))},children:"Download"})]})]})}),Object(u.jsx)(l.f,{children:Object(u.jsxs)("div",{className:"flex flex-col h-full",children:[Object(u.jsxs)("div",{className:"flex justify-between",children:[Object(u.jsx)("div",{className:"w-1/3",children:Object(u.jsx)("table",{className:"total-table text-sm",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"pr-2",children:"Total value of shown:"}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"font-medium",children:Object(a.d)(null===N||void 0===N?void 0:N.totalGrant)})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"pr-2",children:"Total paid amount of shown:"}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"font-medium",children:Object(a.d)(null===N||void 0===N?void 0:N.totalPaid)})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"pr-2",children:"Total unpaid amount of shown:"}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"font-medium",children:Object(a.d)(null===N||void 0===N?void 0:N.totalUnpaid)})})]})]})})}),Object(u.jsxs)("div",{className:"w-2/3 flex flex-col gap-4",children:[Object(u.jsxs)("div",{className:"flex gap-4",children:[Object(u.jsx)(l.h,{className:"flex-1",label:"Start date",value:(null===m||void 0===m?void 0:m.startDate)?m.startDate:null,onChange:function(e){I("startDate",e)}}),Object(u.jsx)(l.h,{className:"flex-1",label:"End date",value:(null===m||void 0===m?void 0:m.endDate)?m.endDate:null,onChange:function(e){I("endDate",e)}}),Object(u.jsx)(l.b,{className:"flex-1",onChange:function(e,t){I("proposalId",t)},label:"Filter by Grant",options:n}),Object(u.jsx)(l.b,{className:"flex-1",label:"Filter by Email",onChange:function(e,t){I("email",t)},options:b})]}),Object(u.jsxs)("div",{className:"flex gap-4",children:[Object(u.jsxs)("div",{className:"flex gap-2",children:[Object(u.jsx)(l.m,{onChange:function(e){return I("hidePaid",e)}}),Object(u.jsx)("span",{className:"text-xs pt-0.5",children:"Hide paid"})]}),Object(u.jsxs)("div",{className:"flex gap-2",children:[Object(u.jsx)(l.m,{onChange:function(e){return I("hideCompletedGrants",e)}}),Object(u.jsx)("span",{className:"text-xs pt-0.5",children:"Hide milestones for completed grants"})]})]})]})]}),Object(u.jsx)("div",{className:"mt-10 flex-1 min-h-0 overflow-x-scroll",children:Object(u.jsx)(j,{outParams:m,onTotal:S})})]})})]})})}}}]);
//# sourceMappingURL=12.616f321e.chunk.js.map